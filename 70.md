Use brute force recursion then optimize from there